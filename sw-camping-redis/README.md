 ## 프로젝트 소개

 Redis 캐시와 Nginx 로드밸런싱을 적용하여 웹 애플리케이션의 성능과 안전성을 개선했습니다.

 ## 주요 기능
 
- **전체 리스트 조회, 구역별 리스트 조회** </br>
 API에 캐시를 적용하여, 조회 시 데이터가 없으면 DB에서 조회하고 캐시에 저장합니다. 이후 동일한 요청에 대해서는 캐시된 데이터를 빠르게 반환하도록 했습니다.

- **추가, 수정, 삭제 시 캐시 동기화** </br>
 캠핑장 정보를 추가, 수정, 삭제하는 기능에서는 데이터가 변경될 때 캐시된 데이터를 동기화하기 위해 해당 캐시 키를 명시적으로 삭제하는 로직을 추가하였습니다. 이를 통해 데이터 변경이 즉시 캐시에 반영되도록 했습니다.

 ## 캐시 전략 적용
 
- **Cache Aside (Lazy Loading)** </br>
 조회 시 캐시에 데이터가 없으면 DB에서 데이터를 조회하고, 조회한 데이터를 캐시에 저장하여 이후 요청 시 빠르게 데이터를 제공할 수 있도록 했습니다.

- **TTL 기반 캐시 (Time To Live)** </br>
 캐시된 데이터의 유효 기간을 설정하여 일정 시간이 지나면 자동으로 삭제되도록 하여, 데이터가 최신 상태를 유지할 수 있도록 했습니다.

- **Explicit Invalidation** </br>
 데이터 변경이 있을 때, 변경된 데이터를 즉시 반영할 수 있도록 캐시를 명시적으로 삭제하여, 데이터 동기화 문제를 해결했습니다.

 ## 성능 개선 결과

 - Cache Miss: 70~80ms (Postman)
 - Cache Hit: 20~30ms (Postman)

 ## 로드밸런싱 추가 적용

 트래픽 증가 상황을 가정하고 Nginx를 활용하여 로드밸런싱을 적용했습니다.
 - **구성**
   - Spring Boot 서버: 8080, 8081, 8082 포트에서 실행
   - Nginx: 라운드 로빈 방식으로 분산 처리
  
 ## 테스트 환경
- 부하 테스트 도구: **wrk**
- 명령어: `wrk -t4 -c100 -d30s http://localhost:8089/...`
  - `-t4`: 4개의 스레드  
  - `-c100`: 동시 연결 100개  
  - `-d30s`: 30초 동안 테스트


## 테스트 결과 
|구성|평균 응답 속도 (ms)|처리량 (req/s)|타임아웃 발생 횟수|
|---|---|---|---|
| 캐시 X (Postman) | 70~80 | - | - |
| 캐시 O (Postman) | 30~40 | - | - |
| 캐시 X + wrk | ~637 | 99 | 388 |
| 캐시 O + wrk | ~329 | 261 | 100 |
| 로드밸런서 O + 캐시 X | ~854 | 73 | 420 |
| 로드밸런서 O + 캐시 O | ~333 | 298 | 0 |
